"use strict";
(self.webpackJsonp__wix_thunderbolt_app = self.webpackJsonp__wix_thunderbolt_app || []).push([
    [7436], {
        87148: function(e, r, n) {
            n.d(r, {
                buildCustomizedUrl: function() {
                    return K
                },
                getCustomizedUrlSegments: function() {
                    return ue
                },
                hI: function() {
                    return Z
                },
                Le: function() {
                    return Ee
                },
                RR: function() {
                    return C
                },
                Vj: function() {
                    return G
                },
                Yu: function() {
                    return D
                },
                D9: function() {
                    return U
                },
                li: function() {
                    return a
                }
            });
            var u, t, i, a = "".concat("{{", "(.*?)").concat("}}"),
                o = /^{{(.*?)}}$/,
                l = "[".concat("{{").concat("}}", "]"),
                s = /^\/|\/$/g,
                p = /{{slug}}/gi,
                c = {
                    slugSegments: ["legacyYear", "legacyMonth", "legacyDay", "slug"],
                    basicSlug: "{{slug}}",
                    regexes: ["\\d{4}/\\d{2}/{{slug}}", "\\d{4}/\\d{2}/\\d{2}/{{slug}}"],
                    mappings: ["{{legacyYear}}/{{legacyMonth}}/{{slug}}", "{{legacyYear}}/{{legacyMonth}}/{{legacyDay}}/{{slug}}"]
                };
            ! function(e) {
                e.product_page = "product_page", e.blog = "blog", e.post = "post", e.forum = "forum", e.group = "group", e.bookings = "Booking Service Page", e.challenges = "challenge_page"
            }(u || (u = {})),
            function(e) {
                e.PRODUCT_PAGE = "wix.stores.sub_pages.product", e.BLOG_POST = "wix.blog.sub_pages.post", e.BLOG_POST_EDIT = "wix.blog.sub_pages.post.edit", e.BLOG_POST_PREVIEW = "wix.blog.sub_pages.post.preview", e.BLOG_CATEGORY = "wix.blog.sub_pages.category", e.FORUM_CATEGORY = "wix.forum.sub_pages.category", e.FORUM_CATEGORY_PAGINATION = "wix.forum.sub_pages.category.pagination", e.FORUM_CATEGORY_CREATE_POST = "wix.forum.sub_pages.category.create-post", e.FORUM_CATEGORY_CREATE_QUESTION = "wix.forum.sub_pages.category.create-question", e.FORUM_POST = "wix.forum.sub_pages.post", e.FORUM_POST_EDIT = "wix.forum.sub_pages.post.edit", e.FORUM_POST_PAGINATION = "wix.forum.sub_pages.post.pagination", e.FORUM_POST_DEEP_LINK_DATA = "wix.forum.sub_pages.post.deep-link-data", e.FORUM_POST_PAGINATION_AND_DEEP_LINK_DATA = "wix.forum.sub_pages.post.pagination-and-deep-link-data", e.GROUP = "wix.groups.sub_pages.group", e.GROUP_POST = "wix.groups.sub_pages.post", e.BOOKINGS_SERVICE = "wix.bookings.sub_pages.service_page", e.CHALLENGES_PAGE = "wix.online_programs.sub_pages.online_program"
            }(t || (t = {}));
            var d, f, _, g, R, E, O, v, P, A, b = ((i = {})[t.PRODUCT_PAGE] = {
                    variables: ["slug"],
                    required: ["slug"]
                }, i),
                N = "{{".concat("main-mapping", "}}"),
                T = ((d = {})[t.BLOG_POST] = {
                    variables: ["slug"],
                    required: ["slug"],
                    subMappings: (f = {}, f[t.BLOG_POST_EDIT] = {
                        defaultMapping: "".concat(N, "/edit")
                    }, f[t.BLOG_POST_PREVIEW] = {
                        required: ["instance"],
                        defaultMapping: "".concat(N, "/preview/{{instance}}")
                    }, f)
                }, d),
                I = ((_ = {})[t.BLOG_CATEGORY] = {
                    variables: ["slug"],
                    required: ["slug"],
                    defaultPrefix: "categories"
                }, _),
                M = ((g = {})[t.FORUM_POST] = {
                    variables: ["categorySlug", "postSlug"],
                    required: ["categorySlug", "postSlug"],
                    subMappings: (R = {}, R[t.FORUM_POST_EDIT] = {
                        defaultMapping: "".concat(N, "/edit")
                    }, R[t.FORUM_POST_PAGINATION] = {
                        required: ["page"],
                        defaultMapping: "".concat(N, "/p-{{page}}")
                    }, R[t.FORUM_POST_DEEP_LINK_DATA] = {
                        required: ["deepLinkData"],
                        defaultMapping: "".concat(N, "/dl-{{deepLinkData}}")
                    }, R[t.FORUM_POST_PAGINATION_AND_DEEP_LINK_DATA] = {
                        required: ["page", "deepLinkData"],
                        defaultMapping: "".concat(N, "/p-{{page}}/dl-{{deepLinkData}}")
                    }, R)
                }, g[t.FORUM_CATEGORY] = {
                    variables: ["slug"],
                    required: ["slug"],
                    subMappings: (E = {}, E[t.FORUM_CATEGORY_CREATE_POST] = {
                        defaultMapping: "".concat(N, "/create-post")
                    }, E[t.FORUM_CATEGORY_CREATE_QUESTION] = {
                        defaultMapping: "".concat(N, "/create-question")
                    }, E[t.FORUM_CATEGORY_PAGINATION] = {
                        required: ["page"],
                        defaultMapping: "".concat(N, "/p-{{page}}")
                    }, E)
                }, g),
                h = ((O = {})[t.GROUP] = {
                    variables: ["groupId", "tabName"],
                    required: ["groupId", "tabName"]
                }, O[t.GROUP_POST] = {
                    variables: ["groupId", "tabName", "postId"],
                    required: ["groupId", "tabName", "postId"]
                }, O),
                m = ((v = {})[t.BOOKINGS_SERVICE] = {
                    variables: ["slug"],
                    required: ["slug"],
                    defaultPrefix: "service-page"
                }, v),
                S = ((P = {})[t.CHALLENGES_PAGE] = {
                    variables: ["slug"],
                    required: ["slug"],
                    defaultPrefix: "challenge-page"
                }, P),
                L = ((A = {})[u.product_page] = b, A[u.post] = T, A[u.blog] = I, A[u.forum] = M, A[u.group] = h, A[u.bookings] = m, A[u.challenges] = S, A),
                y = n(55823),
                U = function(e) {
                    return Object.values(x()).some((function(r) {
                        var n;
                        return Boolean(null === (n = null == r ? void 0 : r.subMappings) || void 0 === n ? void 0 : n[e])
                    }))
                },
                x = function() {
                    return Object.values(L).reduce((function(e, r) {
                        return (0, y.Cl)((0, y.Cl)({}, e), r)
                    }), {}) || {}
                },
                G = function(e) {
                    return Object.entries(L).filter((function(r) {
                        var n = (0, y.zs)(r, 2)[1];
                        return Object.keys(n).includes(e)
                    })).map((function(e) {
                        return (0, y.zs)(e, 1)[0]
                    }))[0]
                },
                w = function(e) {
                    return Object.entries(x()).find((function(r) {
                        var n, u = (0, y.zs)(r, 2),
                            t = (u[0], u[1]);
                        return Boolean(null === (n = null == t ? void 0 : t.subMappings) || void 0 === n ? void 0 : n[e])
                    }))
                },
                C = function(e) {
                    var r, n, u, t = [];
                    if (U(e)) {
                        var i = (0, y.zs)(w(e), 2),
                            a = (i[0], i[1]);
                        t.push.apply(t, (0, y.fX)((0, y.fX)([], (0, y.zs)((null == a ? void 0 : a.required) || []), !1), (0, y.zs)((null === (n = null === (r = null == a ? void 0 : a.subMappings) || void 0 === r ? void 0 : r[e]) || void 0 === n ? void 0 : n.required) || []), !1))
                    } else t.push.apply(t, (0, y.fX)([], (0, y.zs)((null === (u = function(e) {
                        var r = x()[e];
                        return !r && U(e) && console.warn("You cannot get variables schema for subMappings key (".concat(e, ").")), r
                    }(e)) || void 0 === u ? void 0 : u.required) || []), !1));
                    return t
                },
                D = function(e, r) {
                    var n, u;
                    return void 0 === r && (r = ""), null === (u = null === (n = null == e ? void 0 : e.main) || void 0 === n ? void 0 : n.find) || void 0 === u ? void 0 : u.call(n, (function(e) {
                        return e.key === r
                    }))
                },
                B = function(e, r) {
                    return new Error("Url Mappings Error - [".concat(e, "]: ").concat(r))
                },
                k = Object.values(t),
                Y = B("key", "must be one of: ".concat(k.toString())),
                F = function(e) {
                    if ("string" !== typeof e || !k.includes(e)) return Y
                },
                V = B("itemData", 'must be on object with string as value, for example: { "slug": "shoes" }'),
                q = function(e) {
                    if ("object" !== typeof e || !e || !Object.values(e).every((function(e) {
                            return "string" == typeof e
                        })) || Array.isArray(e)) return V
                },
                H = B("itemData", 'must have required variables, for example: { "slug": "shoes" }'),
                j = function(e, r) {
                    try {
                        var n = C(e);
                        if (!n.every((function(e) {
                                return Boolean(r[e])
                            })) || !n.length) throw new Error
                    } catch (e) {
                        return H
                    }
                },
                K = function(e, r, n, u) {
                    void 0 === e && (e = {
                        main: []
                    }), void 0 === u && (u = {});
                    var t = function(e) {
                        var r = e.key,
                            n = e.itemData;
                        return [F(r), q(n), j(r, n)].find(Boolean)
                    }({
                        key: r,
                        itemData: n
                    });
                    if (t) throw t;
                    var i = (D(e, r) || {}).mapping,
                        o = (u || {}).baseUrl;
                    if (o = (o = null != o ? o : "").endsWith("/") ? null == o ? void 0 : o.slice(0, -1) : o, i && "string" == typeof i) {
                        var s = new RegExp(a, "g"),
                            p = i.replace(s, function(e) {
                                return function(r) {
                                    var n = new RegExp(l, "g"),
                                        u = r.replace(n, "");
                                    return null == e ? void 0 : e[u]
                                }
                            }(n));
                        return o.concat("/".concat(p))
                    }
                };

            function z(e, r) {
                return Q(r) - Q(e)
            }
            var X, Q = function(e) {
                    var r = e.split("/");
                    return r.reduce((function(e, n, u) {
                        return e + (o.test(n) ? 0 : Math.pow(10, r.length - u))
                    }), 0)
                },
                $ = /[.*+?^$()|]/g,
                W = function(e) {
                    var r = e.replace($, "\\$&").replace(new RegExp(a, "g"), "([^/]+)");
                    return RegExp("^".concat(r, "$"))
                },
                J = function(e, r) {
                    var n = W(e),
                        u = null == r ? void 0 : r.match(n);
                    if (u) {
                        var t = function(e) {
                                return e ? Array.from(e.matchAll(new RegExp(a, "g")), (function(e) {
                                    return e[1]
                                })) : []
                            }(e),
                            i = t.reduce((function(e, r, n) {
                                var t;
                                return (0, y.Cl)((0, y.Cl)({}, e), ((t = {})[r] = u[n + 1], t))
                            }), {});
                        return i
                    }
                    return {}
                },
                Z = function(e, r) {
                    return void 0 === e && (e = []), e.find((function(e) {
                        return W(e).test(r)
                    }))
                },
                ee = function(e, r) {
                    void 0 === e && (e = {
                        main: []
                    });
                    var n = (D(e, t.BLOG_POST) || {}).mapping;
                    if (null == n ? void 0 : n.includes(c.basicSlug)) {
                        var u = function(e, r) {
                            return void 0 === e && (e = []), e.findIndex((function(e) {
                                return W(e).test(r)
                            }))
                        }(c.regexes.map((function(e) {
                            return n.replace(p, e)
                        })), r);
                        if (!(u < 0)) {
                            var i = n.replace(p, c.mappings[u]),
                                a = J(i, r),
                                o = c.slugSegments.map((function(e) {
                                    return a[e]
                                })).filter((function(e) {
                                    return e
                                })).join("/"),
                                l = Object.keys(a).reduce((function(e, r) {
                                    return c.slugSegments.includes(r) || (e[r] = a[r]), e
                                }), {});
                            return (0, y.Cl)((0, y.Cl)({}, l), {
                                slug: o
                            })
                        }
                    }
                },
                re = B("url", "Url must be a string"),
                ne = function(e) {
                    if ("string" !== typeof e) return re
                },
                ue = function(e, r, n) {
                    var u;
                    void 0 === e && (e = {
                        main: []
                    }), void 0 === n && (n = {});
                    var i = function(e) {
                        var r = e.url;
                        return [ne(r)].find(Boolean)
                    }({
                        url: r
                    });
                    if (i) throw i;
                    var a = function(e, r) {
                            void 0 === e && (e = ""), void 0 === r && (r = "");
                            try {
                                r && e.startsWith(r) && (e = e.replace(r, ""));
                                var n = new URL(e, "https://baseUrl").pathname.replace(s, "");
                                return n ? decodeURIComponent(n).replace(s, "") : ""
                            } catch (e) {
                                return ""
                            }
                        }(r, n.baseUrl),
                        o = function(e, r) {
                            var n;
                            void 0 === e && (e = {
                                main: []
                            });
                            var u = [{
                                key: t.BLOG_POST,
                                checker: ee
                            }].find((function(u) {
                                var t = u.key,
                                    i = u.checker,
                                    a = i(e, r);
                                return n = {
                                    key: t,
                                    segments: i(e, r) || {}
                                }, Boolean(a)
                            }));
                            if (u) return n
                        }(e, a);
                    if (o) return o;
                    var l = null === (u = null == e ? void 0 : e.main) || void 0 === u ? void 0 : u.map((function(e) {
                            return e.mapping || ""
                        })).sort(z),
                        p = Z(l, a);
                    return p ? {
                        key: e.main.find((function(e) {
                            return e.mapping === p
                        })).key,
                        segments: J(p, a)
                    } : void 0
                },
                te = function(e) {
                    return [" ", "\t", "\n"].every((function(r) {
                        var n;
                        return !(null === (n = null == e ? void 0 : e.includes) || void 0 === n ? void 0 : n.call(e, r))
                    }))
                },
                ie = function(e) {
                    return (null == e ? void 0 : e.length) <= Re.MAX_URL_MAPPING_LENGTH
                },
                ae = function(e) {
                    return null == e ? void 0 : e.split("/").every(Boolean)
                },
                oe = function(e, r) {
                    var n = r.urlMappingKey,
                        u = C(n);
                    return null == u ? void 0 : u.every((function(r) {
                        return null == e ? void 0 : e.includes("{{".concat(r, "}}"))
                    }))
                },
                le = function(e) {
                    var r = e.match(new RegExp(a, "g"));
                    return ((null == r ? void 0 : r.length) || 0) <= 1
                },
                se = function(e) {
                    return null == e ? void 0 : e.split("/").every(le)
                },
                pe = function(e) {
                    return function(r, n) {
                        var u = r.split("/"),
                            t = r === n;
                        if (u.length < 1 || t) return !0;
                        var i = n.split("/"),
                            a = (0, y.zs)(i, 1)[0],
                            o = (0, y.zs)(u, 1)[0];
                        return e.every((function(e) {
                            return e === a || e !== o
                        }))
                    }
                },
                ce = function(e, r) {
                    var n = r.pathPrefixes,
                        u = Object.values(n).map((function(e) {
                            return e.publishedPrefix
                        })).filter(Boolean);
                    return pe(u)(e, r.defaultMapping.defaultPublished)
                },
                de = function(e, r) {
                    var n, u = r.urlMappingKey,
                        t = r.urlMappings;
                    return !Z(null === (n = t.main) || void 0 === n ? void 0 : n.filter((function(e) {
                        var r = e.key;
                        return u !== r
                    })).map((function(e) {
                        return e.mapping
                    })), e)
                },
                fe = function(e) {
                    e = e.replace(new RegExp(a, "ig"), "");
                    var r = new RegExp(/[^\]_.~!*'();:@&=+$,<>\\#^%?`"]/, "g"),
                        n = !/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g.test(e),
                        u = !e.replace(r, "");
                    return n && u
                },
                _e = function(e) {
                    var r = (0, y.zs)(e, 1)[0],
                        n = e.slice(-1);
                    return "/" !== r && "/" !== n
                },
                ge = function(e, r) {
                    var n = r.pathPrefixes,
                        u = Object.values(n).map((function(e) {
                            return e.savedPrefix
                        })).filter(Boolean);
                    return pe(u)(e, r.defaultMapping.defaultSaved)
                };
            ! function(e) {
                e.MAX_LENGTH_ERROR = "MAX_LENGTH_ERROR", e.NO_SPACES_ERROR = "NO_SPACES_ERROR", e.NO_EMPTY_SEGMENT_ERROR = "NO_EMPTY_SEGMENT_ERROR", e.CONTAIN_MAIN_VARIABLE_ERROR = "CONTAIN_MAIN_VARIABLE_ERROR", e.ONLY_ONE_VARIABLE_PER_SEGMENT_ERROR = "ONLY_ONE_VARIABLE_PER_SEGMENT_ERROR", e.ONLY_UNIQUE_PUBLISHED_URL_ERROR = "ONLY_UNIQUE_PUBLISHED_URL_ERROR", e.ONLY_UNIQUE_SAVED_URL_ERROR = "ONLY_UNIQUE_SAVED_URL_ERROR", e.ONLY_UNIQUE_MAPPING_ERROR = "ONLY_UNIQUE_MAPPING_ERROR", e.NO_INVALID_CHARACTERS_ERROR = "NO_INVALID_CHARACTERS_ERROR", e.NO_STARTING_OR_ENDING_SLASH_ERROR = "NO_STARTING_OR_ENDING_SLASH_ERROR"
            }(X || (X = {}));
            var Re = function() {
                    function e(e) {
                        var r = e.urlMappingKey,
                            n = e.pathPrefixes,
                            u = e.urlMappings,
                            t = this;
                        this.initValidators = function() {
                            t.validators = [
                                [ie, X.MAX_LENGTH_ERROR],
                                [te, X.NO_SPACES_ERROR],
                                [_e, X.NO_STARTING_OR_ENDING_SLASH_ERROR],
                                [ae, X.NO_EMPTY_SEGMENT_ERROR],
                                [fe, X.NO_INVALID_CHARACTERS_ERROR],
                                [oe, X.CONTAIN_MAIN_VARIABLE_ERROR],
                                [se, X.ONLY_ONE_VARIABLE_PER_SEGMENT_ERROR],
                                [ce, X.ONLY_UNIQUE_PUBLISHED_URL_ERROR],
                                [ge, X.ONLY_UNIQUE_SAVED_URL_ERROR],
                                [de, X.ONLY_UNIQUE_MAPPING_ERROR]
                            ]
                        }, this.urlMappings = u, this.pathPrefixes = n, this.urlMappingKey = r, this.pathPrefix = this.getPathPrefix(), this.defaultMapping = Ee(r, this.pathPrefix), this.initValidators()
                    }
                    return e.prototype.getPathPrefix = function() {
                        var r = G(this.urlMappingKey);
                        if (!r) throw U(this.urlMappingKey) ? new Error("Url Mapper Validator Error: Validator does not support sub mapping, please use the main url mapping key") : new Error("Url Mapper Validator Error: Url mapping key is not supported (".concat(this.urlMappingKey, ")"));
                        return this.pathPrefixes[r] || e.FALLBACK_PATH_PREFIX
                    }, Object.defineProperty(e.prototype, "validatorProps", {
                        get: function() {
                            var e = this;
                            return {
                                urlMappingKey: e.urlMappingKey,
                                urlMappings: e.urlMappings,
                                pathPrefix: e.pathPrefix,
                                pathPrefixes: e.pathPrefixes,
                                defaultMapping: e.defaultMapping
                            }
                        },
                        enumerable: !1,
                        configurable: !0
                    }), e.prototype.validate = function(e) {
                        var r, n;
                        try {
                            for (var u = (0, y.Ju)(this.validators), t = u.next(); !t.done; t = u.next()) {
                                var i = (0, y.zs)(t.value, 2),
                                    a = i[0],
                                    o = i[1],
                                    l = Boolean(a(e, this.validatorProps));
                                if (!l) return {
                                    isValid: l,
                                    error: o
                                }
                            }
                        } catch (e) {
                            r = {
                                error: e
                            }
                        } finally {
                            try {
                                t && !t.done && (n = u.return) && n.call(u)
                            } finally {
                                if (r) throw r.error
                            }
                        }
                        return {
                            isValid: !0
                        }
                    }, e.errorArray = Object.values(X), e.MAX_URL_MAPPING_LENGTH = 1e3, e.FALLBACK_PATH_PREFIX = "unknown", e
                }(),
                Ee = function(e, r) {
                    var n, u, t = x()[e] || {
                            required: ["slug"]
                        },
                        i = t.required,
                        a = t.defaultPrefix,
                        o = {};
                    return r && "object" == typeof r ? (o.savedPrefix = null !== (n = r.savedPrefix) && void 0 !== n ? n : "", o.publishedPrefix = null !== (u = r.publishedPrefix) && void 0 !== u ? u : "") : (o.savedPrefix = Re.FALLBACK_PATH_PREFIX, o.publishedPrefix = Re.FALLBACK_PATH_PREFIX), {
                        defaultSaved: (0, y.fX)([o.savedPrefix, a], (0, y.zs)(null == i ? void 0 : i.map((function(e) {
                            return "{{".concat(e, "}}")
                        }))), !1).filter(Boolean).join("/"),
                        defaultPublished: (0, y.fX)([o.publishedPrefix, a], (0, y.zs)(null == i ? void 0 : i.map((function(e) {
                            return "{{".concat(e, "}}")
                        }))), !1).filter(Boolean).join("/")
                    }
                }
        }
    }
]);
//# sourceMappingURL=url-mapper-utils.10ad4056.chunk.min.js.map